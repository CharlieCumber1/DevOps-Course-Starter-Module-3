script:
- docker build --target test --tag todo-app:test .
- docker run todo-app:test tests
- docker run -e MONGODB_CONNECTION_STRING todo-app:test e2e_tests
deploy:
  provider: script
  script: bash deploy.sh
  on:
    branch: module-11
env:
  global:
  - DOCKER_USERNAME=charliecumber
  - secure: CPAHjkwOZo2p3E1W3+KaR13yZ4RAF5OlNwdugM8KbcmvF9p8B0tpTzkdBAYuBqOmp0OGkrMrHcUs31fY5g5/cH2KZ9n6xsFPRvHPTJui6i3h9UGQI4IA5hEa6TPo9qwx/6B7kKWfqlrvE5iWbzDMKXnT4M90Zx2JVNQA2ltsiBhDMEsOpl+qfStvhoTuI9EYexh2pgBXID6UVGZruM262r8ScmgIhZ12YHIt2rhMY4De+EWmvRBMrgbyMGQYU2FDQpYraQY837R/E7t5UFwzu6bqTkAd5ZeHiwO81zgEWB+xhoJqQxKuD9HVLK1qO0xfZYO1geiMS08kWZ8STGiAiKYFaW054qToStzu5r8QTw2A8ZN75cpDSvgg4Ki2/r1kVvvsvip5OUESfOIta22jn9+WMfTKDd+4IMYrWbbDQgcaKp+AQhOlYo2jhHNVIn308LivJQXqhAT/XR/hW36EKp0zZgUt2wlSgghHRQ3Is/frMeLDEKvaJMV4Cq8YQM/nqW0BKkGkaTYoLQClpstkzRjcY3ZUDAyxRDZtvD7E/Rfr7/MO/LCQ6XLUjiQB+st8rCFcASHRo7S44CKbGo+H/ocWXOnBnBwCO4b4L+EBYm7YdoYOtj25AqursTC6yLkKa0d1XtGqX4L0+tLMGgZrjaEbe3Zx2apVatLSQT4V1to=
  - secure: hvfecANUp71801mNDCCOcANgTukXmvQayeTwD9sme5UBDOnbv8uCK/6TMhn5Mn8B9P9v44M+jV0dIxp/QcsQAOIENKp0OdFOYCwYafIByEG6T5AEKfC8oto6DmyybakMzZtuhgUcyPS5BGoKrANE/06StU3UsmvRA9gLuBikaM08VK2Y9FzytcsqShyMnMqvbsqlGpXN7tTIZcs9FQM1f35smc61m+DrZeOTY2spVNUOE9z6SDp3rYAflh7KWMSHD5s2P1ZBF4qqa76la8zxEIb4QZRgCrjGcIzy/GikYaPA43AjqC06999pXqjy4/lPCbYqr1W/91LSzDEbXgwQyxPaYi6cItPuGFmt/xzoVdkfb/JsR4UE0kUII2fXIOgPHl33wgB14naEqlYAxo4OTfji6g6B3nX1yyYFuB5a3KhPaSIQ7ZHQ+7hrq/Y+Jgxa4BafK4NsQhPplXirRXxrPKU2F0EbeKuia1FliIP/lOZyRPRPwkN/ve3gEOmB8Y9pldPyKgi8mvRlLchwQY8WiBmRI63Ku+o8ji15aqBo7nNLSI9NZ6gmWxyw8U7IwMK71uqPFcePbyxdGD0wUw2BCQpL9nZJTRGvOBbJfs/FHOkcCE4Ra8hctgeRIxWre5ACqBvgSZHLdUxIARXlEdRz9vH8tfics6iMWC6Y4k6pbgI=
  - secure: pl0eWIRi+ovCYg/kLbBUtA5fZ0/8Xls592DUlwyNrlQJDUZtJKEvcQNczVzbM8i7faglVhWTQYlYgZcI8RyFEkLD37KvxBQ7MCh95uE1cEjN8K/My+zAaHFvDZJBjbL3+/bFVIYSKm9kcyCSaUO5QIWQywdiJ4xWy8PMMm29xI2CNGR2HVNgGMPKwC2bIRuX1Md3v1J4ed7ZTSYk//2U7DBxri3QD+XL7n/wSH71HgiZamVeMj64hjQw6TPFhllU7xp09tWj3XmZJFPoiZM8mE7O2DT+Y2U75rLlCX7fJSddMBgMgTMQyMGuS0bWoG+KkL+0lqXc9j7mQdqfcmXm5VeHt5ebAWCmzQCpBx1uoTzdJRPKUDrNgqCa6C28uuuybZAu4RD5GVxpGrLxI7HvgYrCOK8wQ7luC1agtoCfqUBevcwupk2Va0nzuRCXEXEERoCHBiptmBHDeRu5SXaYAN1Npf0CteTmjBSzPT9xKa0KpulgOwPV4thGwwmkvtzXEf1yoVTOFKq/3uRZmqmsYzxaV8MQO8b5YxuYpsRoNJDpOY4TWTUR/lbsFTLi3EecBSMJyWaoWNbFvzBooqH/VAOAY4/qJ+DygTQUC/PTi8SJXAbjrcpN47vipYcLUsVdbHLcAwxxfYUQjCRPav7IifPMCcA8ZDieBxgnX+2Rw4k=
