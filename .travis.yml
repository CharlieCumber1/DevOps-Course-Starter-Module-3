script:
- docker build --target test --tag todo-app:test .
- docker run todo-app:test tests
- docker run -e MONGODB_CONNECTION_STRING todo-app:test e2e_tests
deploy:
  provider: script
  script: bash deploy.sh
  on:
    branch: module-11
env:
  global:
  - DOCKER_USERNAME=charliecumber
  - secure: CPAHjkwOZo2p3E1W3+KaR13yZ4RAF5OlNwdugM8KbcmvF9p8B0tpTzkdBAYuBqOmp0OGkrMrHcUs31fY5g5/cH2KZ9n6xsFPRvHPTJui6i3h9UGQI4IA5hEa6TPo9qwx/6B7kKWfqlrvE5iWbzDMKXnT4M90Zx2JVNQA2ltsiBhDMEsOpl+qfStvhoTuI9EYexh2pgBXID6UVGZruM262r8ScmgIhZ12YHIt2rhMY4De+EWmvRBMrgbyMGQYU2FDQpYraQY837R/E7t5UFwzu6bqTkAd5ZeHiwO81zgEWB+xhoJqQxKuD9HVLK1qO0xfZYO1geiMS08kWZ8STGiAiKYFaW054qToStzu5r8QTw2A8ZN75cpDSvgg4Ki2/r1kVvvsvip5OUESfOIta22jn9+WMfTKDd+4IMYrWbbDQgcaKp+AQhOlYo2jhHNVIn308LivJQXqhAT/XR/hW36EKp0zZgUt2wlSgghHRQ3Is/frMeLDEKvaJMV4Cq8YQM/nqW0BKkGkaTYoLQClpstkzRjcY3ZUDAyxRDZtvD7E/Rfr7/MO/LCQ6XLUjiQB+st8rCFcASHRo7S44CKbGo+H/ocWXOnBnBwCO4b4L+EBYm7YdoYOtj25AqursTC6yLkKa0d1XtGqX4L0+tLMGgZrjaEbe3Zx2apVatLSQT4V1to=
  - secure: hvfecANUp71801mNDCCOcANgTukXmvQayeTwD9sme5UBDOnbv8uCK/6TMhn5Mn8B9P9v44M+jV0dIxp/QcsQAOIENKp0OdFOYCwYafIByEG6T5AEKfC8oto6DmyybakMzZtuhgUcyPS5BGoKrANE/06StU3UsmvRA9gLuBikaM08VK2Y9FzytcsqShyMnMqvbsqlGpXN7tTIZcs9FQM1f35smc61m+DrZeOTY2spVNUOE9z6SDp3rYAflh7KWMSHD5s2P1ZBF4qqa76la8zxEIb4QZRgCrjGcIzy/GikYaPA43AjqC06999pXqjy4/lPCbYqr1W/91LSzDEbXgwQyxPaYi6cItPuGFmt/xzoVdkfb/JsR4UE0kUII2fXIOgPHl33wgB14naEqlYAxo4OTfji6g6B3nX1yyYFuB5a3KhPaSIQ7ZHQ+7hrq/Y+Jgxa4BafK4NsQhPplXirRXxrPKU2F0EbeKuia1FliIP/lOZyRPRPwkN/ve3gEOmB8Y9pldPyKgi8mvRlLchwQY8WiBmRI63Ku+o8ji15aqBo7nNLSI9NZ6gmWxyw8U7IwMK71uqPFcePbyxdGD0wUw2BCQpL9nZJTRGvOBbJfs/FHOkcCE4Ra8hctgeRIxWre5ACqBvgSZHLdUxIARXlEdRz9vH8tfics6iMWC6Y4k6pbgI=
  - secure: de6os6dNL52E1bwQV9XjsbPHKrRGaDkI7bAe4B9CJifPlcunKr0bFnmc7EJvTVKBD/alHB7uJmhgf7Xdjh6jfGXcp1t6BRlDTpB9YQIwTu+SHcEd4M5apZ0G465J/sSz9R4DEuWHhgfauJGqoc+qXfPPEVW0Yl1xZLTMuaPXrGCyr3G3MRfUC3D99P4NuMjj8NB0pQmDSFOunKvQgBhD7PVzqmkSdNECcyGecMO8Y9DRXv+1Jf4NXeWUH5N6IbEUpEL2L6vy9rJUFQDNx9PCMww9QiOLyAxGcavWoFNDXbOb4CkKTXS3ByEPza9b5f9/xKb7oDecXFne2FYDWH9+NayWdBGvApbfNliN65CMJvtTma+geQn5YyaErYJLfdZs6PShjxCAw0wJmRF1aXjbTksyzLJ6WdvWFRwQzgfxurUYLzdMEaAVnsH2X0Pa6OTW4SxVXjb17DByd1cdTg0uebs+ZTpYmC4Fpwn5xLgS//+KFY2P89DMPqbu20vTpAvM3ViTOAsP1UATSwnK0wp+2J2V0lTpi4JzEUEitqGK/FrXhA9BlsgTCp1WtzvaAy+TkX5v7fMz66emWiqEOXW94SVP6E5HmyigT9j6b6GbvRRtMVoFsMLc5qI5tUWpTThZRrRTPaVCUGe32sxMlv+/L7PnoXg6y0mKjt9E9wnN//U=
